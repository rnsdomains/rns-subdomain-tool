<!doctype html>
<html lang="en" class="h-100">

<head>
    <title>RIF Name Service tool</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/rns.css" />
    <link rel="stylesheet" type="text/css" href="css/growl.css" />
    <script src='https://www.google.com/recaptcha/api.js'></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">    
    <!-- Favicon -->
    <link rel="icon" href="images/favicon.ico" type="image/ico">
</head>

<body class="d-flex flex-column h-100">
    <!-- navbar -->
    <header class="banner" role="banner">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark page-header" role="navigation">
            <div class="container">
                <a class="navbar-brand" href="https://rns.rsk.co/">
                    <img class="logo" src="/images/logo.png" alt="RNS">
                </a>    
                <a class="navbar-brand" id="linkLogoCustom" href="" target="_blank">
                    <img class="logo-custom" src="/images/logo-custom.png" alt="logo">
                </a>              
            </div>
        </nav>
    </header>
    <div class="pt-4">
        <h2 class="col-md-12 text-center">Get your RIF Name Service domain under <span id="domainName"></span></h2>            
    </div>    
    <div class="container form-container text-center">
        <div class="row justify-content-md-center">            
            <div class="col col-md-9 check-form mb-3">
                <h3 class="mt-3">Check domain status</h3>                
                <form id="formRegister" class="needs-validation" novalidate >
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" maxlength="256" placeholder="Insert your alias"
                            name="domain" id="domain" required />
                        <div class="input-group-append">
                            <span id="parentDomainCheckStatusForm" class="input-group-text"></span>
                        </div>
                    </div>
                    <div id="domainStatusCheckedOwned" style="display:none;">
                        <label>It is&nbsp; 
                            <span class="badge badge-warning">OWNED</span><span id="ownedBy"></span>
                        </label>
                    </div>
                    <div>
                        <span id="checkValidationMessage" class="invalid-feedback"></span>
                    </div>
                    <div class="form-group text-center pt-4" id="divBtnCheckStatus">
                        <input class="btnSubmit" type="button" value="Check" id="btnCheckStatus"/>
                     </div>
                    <div id="register-form" style="display:none;">
                        <div class="input-group mb-3" style="align-items: center;">
                            <input type="text" class="form-control" placeholder="Insert an RSK address" name="address" id="address" required />                                 
                            <a href="https://github.com/rsksmart/rskj/wiki/Wallets" target="_blank" class="pl-2"><i class="fa fa-question"></i></a>                          
                        </div>
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="Insert an email" name="mail" id="mail" />
                        </div>
                        <div class="g-recaptcha" data-sitekey=""></div>
                        <br>
                        <div class="mt-3">
                            <span id="registerValidationMessage" class="invalid-feedback"></span>
                        </div>
                        <div class="form-group text-center pt-4">
                            <input class="btnSubmit" type="submit" value="Register" id="btnRegister"/>
                        </div>
                        <div id="txContainer" class="card">
                            <div class="box">
                                <div>
                                    <label>Registering subdomain - TxHash:</label>
                                    <br>
                                    <a id="txHashRegisteredDomain" target="_blank"></a>
                                    <br>
                                    <label>Status: </label>&nbsp;
                                    <label id="txStatusPending" class="badge badge-info">Asking blockchain</label>
                                    <label id="txStatusSuccess" class="badge badge-success">Success</label>
                                    <label id="txStatusFailed" class="badge badge-danger">Failed</label>
                                    <br>
                                    <p id="txStatusFailedMessage" class="invalid-feedback">Ops, something was wrong. Please try again later.</p>
                                    <p id="txStatusSuccessMessage" class="valid-feedback">Ok, now you're subdomain's owner!</p>
                                </div>                                
                            </div>
                        </div>                        
                    </div>
                </form>         
            </div>                       
        </div>
        <a target="_blank" href="https://rns.rifos.org">RNS Manager</a>
    </div>
    <div class="modal fade" id="modalInformation" tabindex="-1" role="dialog" aria-labelledby="modalInformationLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">About the tool</h5>  
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    </button>                      
                </div>
                <div class="modal-body">
                    <p class="col-md-12 text-justified">
                        Choose your alias, it must be available under <label class="code" id="parentDomain"></label> domain.<br>      
                        The availability of the domain at registration time is not guaranteed. <br><br>
                        You can also register a domain at any time using <a href="https://manager.rns.rifos.org/" target="_blank">the RNS Manager.</a><br>
                        Check <a href="https://github.com/rnsdomains/" target="_blank">Github.</a>                     
                    </p>
                </div>
            </div>
        </div>
    </div>

    <footer class="content-info footer mt-auto py-3">
        <div class="container">
            <div class="row">
                <div class="col-2 bottom-margin no-mobile">
                    <a href="https://rifos.org/"><img class="logo" src="/images/logo-footer.png" alt="RNS"/></a>
                </div>           
                <div class="col-md col-lg-10 bottom-margin">
                    <section>                        
                        <ul class="menu">
                            <section>
                            <ul id="menu-footer-1" class="menu">
                                <li class="menu-item menu-solutions text-green"><a data-toggle="modal" data-target="#modalInformation" href="">About the tool</a></li>
                                <li class="menu-item menu-solutions"><a href="https://rns.rifos.org/">RNS Home</a></li>
                                <li class="menu-item menu-framework"><a href="https://github.com/rnsdomains/">Github</a></li>
                                <li class="active menu-item menu-get-started"><a href="https://docs.rifos.org/rif-name-service-specification-en.pdf">Specification</a></li>                                
                            </ul>
                        </ul>
                    </section>
                </div>
            </div>
        </div>
    </footer>
</body>


<!-- Scripts -->
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/api.js" type="text/javascript"></script>
<script src="js/index.js" type="text/javascript"></script>
<script src="js/popper.min.js"></script>
<script src="js/growl.js" type="text/javascript"></script>
<script src="js/loadingoverlay.min.js" type="text/javascript"></script>
